# 岁阅回忆录平台 - 综合功能测试用例

**测试版本：MVP v4.0 - 完整AI功能版**  
**测试日期：2024-07-26**  
**测试环境：http://localhost:3000**

## 📋 测试计划概览

### 测试目标
验证岁阅平台的所有核心功能是否正常工作，包括AI写作助手、语音录制、照片上传、PDF导出等功能。

### 测试范围
- ✅ 用户认证系统
- ✅ 项目管理功能
- ✅ 章节管理系统
- ✅ 富文本编辑器
- ✅ AI写作助手（4大功能）
- ✅ 语音录制系统
- ✅ 照片上传功能
- ✅ PDF导出功能
- ✅ 自动保存机制

## 🧪 测试用例执行清单

### TC001: 用户登录流程测试
**前置条件：** 访问 http://localhost:3000
**测试步骤：**
1. [ ] 验证首页加载是否正常
2. [ ] 点击登录按钮，检查登录弹窗
3. [ ] 手机登录测试：
   - 输入手机号：13800138000
   - 输入验证码：123456
   - 点击登录
4. [ ] 验证登录成功，跳转到工作台
5. [ ] 检查用户信息显示是否正确

**预期结果：** 成功登录，显示用户工作台

---

### TC002: 项目创建与管理测试
**前置条件：** 已登录用户
**测试步骤：**
1. [ ] 在工作台点击"创建新项目"按钮
2. [ ] 填写项目基础信息：
   - 项目标题：《我的童年回忆》
   - 项目描述：记录我美好的童年时光
   - 隐私设置：选择"仅自己可见"
3. [ ] 点击"下一步"进入封面选择
4. [ ] 选择一个封面风格
5. [ ] 点击"创建项目"完成创建
6. [ ] 验证项目出现在工作台列表中
7. [ ] 点击"写作"按钮进入编辑器

**预期结果：** 项目创建成功，进入编辑器页面

---

### TC003: 章节管理功能测试
**前置条件：** 已进入编辑器页面
**测试步骤：**
1. [ ] 验证默认章节"童年时光"是否存在
2. [ ] 创建新章节：
   - 点击"添加章节"按钮
   - 输入章节标题：《幼儿园的日子》
   - 确认创建
3. [ ] 验证新章节出现在侧边栏
4. [ ] 点击不同章节，验证内容切换
5. [ ] 编辑章节标题：
   - 双击章节标题
   - 修改为《快乐的幼儿园时光》
   - 按Enter确认
6. [ ] 验证章节状态指示器（未开始/进行中/已完成）

**预期结果：** 章节管理功能正常，状态更新正确

---

### TC004: 富文本编辑器功能测试
**前置条件：** 已选择一个章节
**测试步骤：**
1. [ ] 在编辑器中输入测试文本：
   ```
   我记得小时候最快乐的时光就是和小伙伴们一起玩耍。那时候天总是很蓝，我们无忧无虑。
   ```
2. [ ] 测试文字格式化：
   - 选中"最快乐"，点击粗体按钮
   - 选中"无忧无虑"，点击斜体按钮
3. [ ] 测试标题功能：
   - 输入新行，点击H2标题，输入"童年游戏"
4. [ ] 测试列表功能：
   - 点击无序列表，输入：
     - 捉迷藏
     - 跳房子
     - 弹珠游戏
5. [ ] 验证字数统计是否实时更新
6. [ ] 测试撤销/重做功能（Ctrl+Z / Ctrl+Y）

**预期结果：** 编辑器功能正常，格式化生效，统计准确

---

### TC005: AI写作助手功能测试

#### TC005.1: AI润色功能测试
**测试步骤：**
1. [ ] 在编辑器中输入需要润色的文本：
   ```
   我觉得那时候很好，现在想起来美好时光。
   ```
2. [ ] 点击"🤖 AI写作助手"按钮
3. [ ] 点击"✨ AI润色"功能
4. [ ] 等待AI处理（约1.5秒）
5. [ ] 验证润色结果：
   - 查看润色后的文本
   - 检查改进说明列表
   - 查看对比详情
6. [ ] 点击"应用结果"按钮
7. [ ] 验证润色文本是否替换原文

**预期结果：** AI润色功能正常，文本得到优化

#### TC005.2: AI续写功能测试
**测试步骤：**
1. [ ] 输入故事开头：
   ```
   那是一个春天的下午，我和爷爷在院子里种花。
   ```
2. [ ] 点击"📝 AI续写"功能
3. [ ] 等待AI处理（约2秒）
4. [ ] 验证续写内容是否合理自然
5. [ ] 点击"应用结果"将续写内容添加到编辑器

**预期结果：** AI续写内容自然流畅，符合上下文

#### TC005.3: AI扩写功能测试
**测试步骤：**
1. [ ] 输入简短句子：
   ```
   我很开心。
   ```
2. [ ] 点击"📖 AI扩写"功能
3. [ ] 验证扩写结果是否丰富了细节
4. [ ] 应用扩写结果

**预期结果：** 内容得到合理扩展，增加了细节描述

#### TC005.4: AI访谈功能测试
**测试步骤：**
1. [ ] 输入话题关键词："童年"
2. [ ] 点击"🎤 AI访谈"功能
3. [ ] 验证生成的访谈问题：
   - 问题是否与童年主题相关
   - 问题是否具有启发性
4. [ ] 点击一个问题，验证是否插入到编辑器
5. [ ] 重复测试其他主题："家庭"、"工作"

**预期结果：** 生成相关性强的引导性问题

---

### TC006: 语音录制功能测试
**前置条件：** 浏览器有麦克风权限
**测试步骤：**
1. [ ] 点击"🎤 语音输入"按钮
2. [ ] 验证语音录制面板是否出现
3. [ ] 测试语言模式选择：
   - 默认"标准普通话"模式
   - 切换到"方言优化"模式
4. [ ] 标准模式录音测试：
   - 点击录音按钮开始录制
   - 说话测试："今天天气很好，我想写一些回忆。"
   - 观察音量指示器和录音时间
   - 点击停止按钮
5. [ ] 等待语音转文字处理（约2秒）
6. [ ] 验证转换结果是否合理
7. [ ] 检查转换的文字是否自动插入编辑器
8. [ ] 重复测试方言模式

**预期结果：** 语音录制和转换功能正常，文字准确插入

---

### TC007: 照片上传功能测试

#### TC007.1: 拖拽上传测试
**测试步骤：**
1. [ ] 点击"📷 上传照片"按钮
2. [ ] 准备一张测试图片文件（JPG/PNG格式）
3. [ ] 将图片文件拖拽到上传区域
4. [ ] 验证上传进度显示
5. [ ] 检查图片预览是否正确显示
6. [ ] 查看文件信息（名称、大小）
7. [ ] 点击"插入"按钮
8. [ ] 验证图片是否正确插入编辑器

**预期结果：** 拖拽上传功能正常，图片正确插入

#### TC007.2: URL链接上传测试
**测试步骤：**
1. [ ] 点击"URL链接"标签
2. [ ] 输入测试图片URL：
   ```
   https://via.placeholder.com/400x300.jpg?text=Test+Image
   ```
3. [ ] 点击"添加图片"按钮
4. [ ] 验证图片预览加载
5. [ ] 插入图片到编辑器

**预期结果：** URL图片添加功能正常

#### TC007.3: 多图片管理测试
**测试步骤：**
1. [ ] 上传多张图片（2-3张）
2. [ ] 验证图片列表显示
3. [ ] 测试单独插入功能
4. [ ] 测试删除功能
5. [ ] 验证删除后列表更新

**预期结果：** 多图片管理功能正常

---

### TC008: PDF导出功能测试

#### TC008.1: 完整回忆录导出测试
**前置条件：** 已有多个章节和内容
**测试步骤：**
1. [ ] 确保回忆录有以下内容：
   - 至少2个章节
   - 每个章节有文字内容
   - 至少包含1张图片
2. [ ] 点击"📄 PDF导出"按钮
3. [ ] 选择"导出完整回忆录"选项
4. [ ] 观察导出进度条
5. [ ] 等待PDF生成完成
6. [ ] 验证PDF文件自动下载
7. [ ] 打开PDF文件检查内容：
   - 封面页是否正确
   - 目录是否包含所有章节
   - 章节内容是否完整
   - 图片是否正确嵌入
   - 页码是否正确

**预期结果：** PDF导出成功，内容完整准确

#### TC008.2: 单章节导出测试
**测试步骤：**
1. [ ] 选择"导出当前章节"选项
2. [ ] 验证只导出当前章节内容
3. [ ] 检查PDF质量和格式

**预期结果：** 单章节导出功能正常

---

### TC009: 自动保存功能测试
**测试步骤：**
1. [ ] 在编辑器中输入内容
2. [ ] 观察保存状态变化：
   - 输入时显示"未保存"
   - 停止输入后显示"保存中"
   - 2秒后显示"已保存"
3. [ ] 刷新页面验证内容是否保存
4. [ ] 切换章节验证自动保存
5. [ ] 测试长时间编辑的保存稳定性

**预期结果：** 自动保存功能正常，数据不丢失

---

### TC010: 综合工作流程测试
**测试目标：** 模拟完整的用户使用场景
**测试步骤：**
1. [ ] 登录系统
2. [ ] 创建新项目《我的人生故事》
3. [ ] 创建章节《童年》
4. [ ] 使用语音输入录制一段回忆
5. [ ] 使用AI润色优化语音转换的文字
6. [ ] 上传一张童年照片
7. [ ] 使用AI访谈生成更多写作提示
8. [ ] 基于提示继续写作
9. [ ] 使用AI扩写丰富内容
10. [ ] 创建第二个章节《学生时代》
11. [ ] 添加相关内容和图片
12. [ ] 导出完整PDF回忆录
13. [ ] 验证最终成果

**预期结果：** 完整工作流程顺畅，最终产出高质量回忆录

---

## 🔍 性能指标验证

### 加载性能测试
- [ ] 首页加载时间 < 3秒
- [ ] 编辑器页面加载时间 < 5秒
- [ ] AI响应时间 < 3秒
- [ ] 图片上传响应 < 5秒
- [ ] PDF导出时间 < 10秒

### 稳定性测试
- [ ] 连续使用30分钟无崩溃
- [ ] 大量内容编辑（>3000字）流畅
- [ ] 多个AI操作连续执行稳定
- [ ] 自动保存100%成功率

---

## 📱 兼容性测试

### 浏览器兼容性
- [ ] Chrome 最新版本
- [ ] Firefox 最新版本  
- [ ] Safari 最新版本（如适用）
- [ ] Edge 最新版本

### 设备兼容性
- [ ] 桌面端（1920x1080）
- [ ] 笔记本端（1366x768）
- [ ] 平板端（768px宽度）
- [ ] 手机端（375px宽度）

---

## 🐛 缺陷记录模板

**缺陷编号：** BUG-001  
**缺陷标题：** [功能模块] 简短描述  
**严重程度：** 高/中/低  
**复现步骤：**
1. 步骤1
2. 步骤2
3. 步骤3

**预期结果：** 应该发生什么  
**实际结果：** 实际发生什么  
**环境信息：** 浏览器版本、操作系统等  

---

## ✅ 测试执行结果汇总

**测试开始时间：** ___________  
**测试结束时间：** ___________  
**总测试用例数：** 10个主要用例  
**通过用例数：** _____ / 10  
**失败用例数：** _____ / 10  
**发现缺陷数：** _____  

**整体评估：** 
- [ ] 功能完整度达到预期
- [ ] 性能指标符合要求  
- [ ] 用户体验良好
- [ ] 可以发布使用

**备注：**
_________________________________
_________________________________
_________________________________

---

**测试执行人：** ___________  
**测试日期：** 2024-07-26  
**版本信息：** MVP v4.0 